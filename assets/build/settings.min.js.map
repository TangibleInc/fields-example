{"version":3,"file":"settings.min.js","sources":["../src/example/register-custom-type.jsx","../src/settings.js"],"sourcesContent":["import {\n  useState,\n  useEffect,\n  createRoot\n} from 'react'\n\nconst initExample = () => {\n\n  const container = document.getElementById('tf-example-custom-types')\n  const value = container.getAttribute('data-value')\n\n  const MyCustomField = props => {\n\n    const { initJSON } = tangibleFields.utils\n    const [value, setValue] = useState( initJSON(props.value ?? {}) )\n\n    useEffect(() => {\n      if( props.onChange ) props.onChange(value)\n    }, [value])\n\n    return(\n      <div className=\"tf-custom-type\" style={{ display: 'flex' }}>\n        <input type=\"hidden\" name={ props.name ?? '' } value={ JSON.stringify(value) } />\n        <div>\n          <strong>Character attributes:</strong>\n          <hr /> \n          { tangibleFields.render({\n            label     : 'First name',\n            type      :'text',\n            value     : value.firstName ?? '',\n            onChange  : firstName => setValue({ ...value, firstName: firstName }),\n          }) }\n          { tangibleFields.render({\n            label     : 'Last name',\n            type      :'text',\n            value     : value.lastName,\n            onChange  : lastName => setValue({ ...value, lastName: lastName }),\n          }) }\n          <hr />\n          { tangibleFields.render({\n            label     : 'Avatar',\n            type      : 'file',\n            maxUpload : 1,\n            wp_media  : false,\n            value     : value.avatar ?? '',\n            onChange  : avatar => setValue({ ...value, avatar: avatar }),\n            mimeTypes : [ 'image' ]\n          }) }\n        </div>\n      </div>\n    )\n  }\n\n  tangibleFields.types.add('custom-type', MyCustomField)\n\n  createRoot(container)\n    .render(\n      tangibleFields.render({\n      'type'  :'custom-type',\n      'name'  :'custom-field-example',\n      'value' : value\n      }\n    ))\n}\n\nexport { initExample }\n","import { initExample } from './example/register-custom-type'\n\n/**\n * Settings page: Change context on select change\n */\nwindow.addEventListener('load', () => {\n            \n  const select = document.getElementById('tf-context-select')\n  \n  select.addEventListener('change', () => {\n\n    const url = new URL(location.href);\n    const params = new URLSearchParams(url.search)\n    \n    params.set('context', select.value)\n\n    location.replace(location.protocol + '//' + location.host + location.pathname + '?' + params.toString())\n  })\n\n  /**\n   * Example for custom field type registration\n   */\n  if( document.getElementById('tf-example-custom-types') ) initExample()\n\n  /**\n   * Specific to dynamic value list page - Handle list selection\n   */\n  const trigger = document.getElementsByClassName('tf-dynamic-value-trigger-js')\n  const content = document.getElementsByClassName('tf-dynamic-value-content-js')\n\n  if( trigger.length === 0 ) return;\n\n  for (let i = 0; i < trigger.length; i++) {\n    trigger[i].addEventListener('click', () => {\n      jQuery('.tf-dynamic-value-content-js').attr('style', 'display: none')\n      content[i].setAttribute('style', '')\n    })\n  }\n})\n"],"names":["useState","useEffect","createRoot","select","url","params","initExample","trigger","content","i"],"mappings":"2WAMA,MAQ8BA,EAAAA,EAAAA,IAAAA,CAAAA,MAAAA,EAAAA,SAAAA,eAAAA,yBAAAA,EAAAA,EAAAA,EAAAA,aAAAA,YAAAA,EAAAA,EAAAA,EAAAA,GAAAA,CAAAA,KAAAA,CAAAA,SAAAA,CAAAA,EAAAA,eAAAA,MAAAA,CAAAA,EAAAA,CAAAA,EAAAA,GAAAA,QAAAA,SAE1BC,EAAAA,EAAAA,OAAAA,CAAAA,CAAAA,CAAAA,EAAAA,OAAAA,GAAAA,QAAAA,izBAuCFC,GAAAA,QAAAA,WAAAA,CAAAA,EAAAA,OAAAA,eAAAA,OAAAA,CAAAA,KAAAA,cAAAA,KAAAA,uBAAAA,MAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,aAAAA,EClDF,OAAO,iBAAiB,OAAQ,IAAM,CAEpC,MAAMC,EAAS,SAAS,eAAe,mBAAmB,EAE1DA,EAAO,iBAAiB,SAAU,IAAM,CAEtC,MAAMC,EAAM,IAAI,IAAI,SAAS,IAAI,EAC3BC,EAAS,IAAI,gBAAgBD,EAAI,MAAM,EAE7CC,EAAO,IAAI,UAAWF,EAAO,KAAK,EAElC,SAAS,QAAQ,SAAS,SAAW,KAAO,SAAS,KAAO,SAAS,SAAW,IAAME,EAAO,UAAU,CACzG,CAAC,EAKG,SAAS,eAAe,yBAAyB,GAAIC,IAKzD,MAAMC,EAAU,SAAS,uBAAuB,6BAA6B,EACvEC,EAAU,SAAS,uBAAuB,6BAA6B,EAE7E,GAAID,EAAQ,SAAW,EAEvB,QAASE,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAClCF,EAAQE,CAAC,EAAE,iBAAiB,QAAS,IAAM,CACzC,OAAO,8BAA8B,EAAE,KAAK,QAAS,eAAe,EACpED,EAAQC,CAAC,EAAE,aAAa,QAAS,EAAE,CACrC,CAAC,CAEL,CAAC"}